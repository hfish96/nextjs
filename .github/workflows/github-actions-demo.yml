name: GitHub Actions Demo
run-name: ${{ github.actor }} is testing out GitHub Actions ğŸš€
on:
  push:
    branches:
      - main
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    # æ­¥éª¤
    steps:
    # ä½¿ç”¨åˆ«äººçš„action
    - uses: actions/checkout@v2
    # æ­¥éª¤åç§°
    - name: npm install
      # æ­¥éª¤æ‰§è¡ŒæŒ‡ä»¤
      run: npm install
    - name: npm run build
      run: npm run build
    # å‘½åè¿™ä¸ªä»»åŠ¡ä¸ºå‘å¸ƒDeploy
    - name: Deploy
      # å› ä¸ºæ„å»ºä¹‹åï¼Œéœ€è¦æŠŠä»£ç ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼Œæ‰€ä»¥éœ€è¦è¿æ¥åˆ°sshï¼Œå¹¶ä¸”åšä¸€ä¸ªæ‹·è´æ“ä½œ
      uses: cross-the-world/scp-pipeline@master
      env:
        WELCOME: "ssh scp ssh pipelines"
        LASTSSH: "Doing something after copying"
      with:
        host: ${{ secrets.USER_HOST }}
        user: ${{ secrets.USER_NAME }}
        pass: ${{ secrets.USER_PASS }}
        connect_timeout: 10s
        local: './dist/*'
        remote: /home/www/dist
